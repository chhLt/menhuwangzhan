webpackJsonp([38],{YQzN:function(t,e,s){t.exports=s.p+"static/img/search_test.png"},yVYu:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("P2Uu"),a={data:function(){return{patentList:[],demandList:[],pageCount:null,currentPage:null,total:null}},created:function(){this.getUserInfo(),this.getCollectionData()},methods:{getUserInfo:function(){var t=JSON.parse(sessionStorage.getItem("userInfo"));t&&(this.custId=t.id)},prev:function(){0==this.currentPage&&this.$message.warning("已经是第一页了"),this.currentPage>0&&this.getCollectionData(this.currentPage-1)},next:function(){var t=Math.ceil(this.total/this.pageCount);this.currentPage==t-1&&this.$message.warning("已经是最后一页了"),this.currentPage<t-1&&this.getCollectionData(this.currentPage+1)},getCollectionData:function(t,e){var s=this;if(void 0!=this.custId){var a={id:this.custId,currentPage:t||0,pageCount:e||6};i.a.Request("szipee/user!queryColle.action","POST",null,a).then(function(t){s.patentList=[],s.demandList=[],null!=t&&(s.pageCount=t[0].pageCount,s.currentPage=t[0].currentPage,s.total=t[0].dataCounts);for(var e in t)1==t[e].productType&&s.patentList.push(t[e].patentList[0]),2==t[e].productType&&s.demandList.push(t[e].demandList[0])})}},changePatentCollection:function(t){var e=this,s={id:this.custId,productId:t,productType:1};i.a.Request("szipee/user!custColle.action","POST",null,s).then(function(t){"success"==t.state&&"取消收藏成功！"==t.info&&(e.$message.success("专利取消收藏成功！"),e.getCollectionData())})},changeDemandCollection:function(t){var e=this,s={id:this.custId,productId:t,productType:2};i.a.Request("szipee/user!custColle.action","POST",null,s).then(function(t){"success"==t.state&&"取消收藏成功！"==t.info&&(e.$message.success("需求取消收藏成功！"),e.getCollectionData())})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"my_collection"}},[i("div",{staticClass:"content"},[i("div",{staticClass:"release_title"},[i("div",{staticClass:"release_name"},[t._v("\n                我的收藏\n            ")]),t._v(" "),i("div",{staticClass:"release_icon"},[i("span",{on:{click:t.prev}},[i("i",{staticClass:"item_icon icon_prev"})]),t._v(" "),i("span",{on:{click:t.next}},[i("i",{staticClass:"item_icon icon_next"})])])])]),t._v(" "),i("div",{staticClass:"collection"},[t.patentList.length<=0&&t.demandList.length<=0?i("div",{staticClass:"noDataWrap"},[t._m(0)]):i("ul",[t._l(t.patentList,function(e){return i("li",[i("div",{staticClass:"mainImage"},[i("router-link",{attrs:{to:{path:"patentDetail",query:{id:e.id}}}},[i("img",{attrs:{src:s("YQzN"),alt:""}}),t._v(" "),i("em",{staticClass:"patentFlag"})])],1),t._v(" "),i("div",{staticClass:"mainTitle"},[i("span",[t._v(t._s(e.patentName))]),t._v(" "),i("i",{staticClass:"item_icon icon_solid",on:{click:function(s){t.changePatentCollection(e.id)}}})]),t._v(" "),i("div",{staticClass:"subTitle"},[i("p",[t._v(t._s(t._f("orgTypeFilter")(e.orgType)))])]),t._v(" "),i("div",{staticClass:"price"},[i("p",[t._v(t._s(t._f("priceFilter")(e.hopePrice)))])]),t._v(" "),i("div",{staticClass:"bottomView"},[i("div",{staticClass:"date"},[i("i",{staticClass:"item_icon icon_date"}),t._v(" "),i("span",[t._v(t._s(t._f("formatDate_YMD")(e.releaseDate)))])]),t._v(" "),i("div",{staticClass:"address",attrs:{title:t._f("addressFilter")(e.coverAddress)}},[i("span",[i("i",{staticClass:"item_icon icon_address"}),t._v(" "),i("em",[t._v(t._s(t._f("addressFilter")(e.coverAddress)))])])])])])}),t._v(" "),t._l(t.demandList,function(e){return i("li",[i("div",{staticClass:"mainImage"},[i("router-link",{attrs:{to:{path:"demandDetail",query:{id:e.id}}}},[i("img",{attrs:{src:s("YQzN"),alt:""}}),t._v(" "),i("em",{staticClass:"demandFlag"})])],1),t._v(" "),i("div",{staticClass:"mainTitle"},[i("span",[t._v(t._s(e.demandName))]),t._v(" "),i("i",{staticClass:"item_icon icon_solid",on:{click:function(s){t.changeDemandCollection(e.id)}}})]),t._v(" "),i("div",{staticClass:"subTitle"},[i("p",[t._v(t._s(t._f("changeDemandType")(e.demandType)))])]),t._v(" "),t._m(1,!0),t._v(" "),i("div",{staticClass:"bottomView"},[i("div",{staticClass:"date"},[i("i",{staticClass:"item_icon icon_date"}),t._v(" "),i("span",[t._v(t._s(t._f("formatDate_YMD")(e.releaseDate)))])]),t._v(" "),i("div",{staticClass:"address",attrs:{title:e.contactAddress}},[i("span",[i("i",{staticClass:"item_icon icon_address"}),t._v(" "),i("em",[t._v(t._s(e.contactAddress))])])])])])})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"noData"},[e("span"),this._v(" "),e("p",[this._v("您还没有收藏任何项目(●ˇ∀ˇ●)~~")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"price"},[e("p",[this._v("价格面议")])])}]},c=s("VU/8")(a,n,!1,null,null,null);e.default=c.exports}});