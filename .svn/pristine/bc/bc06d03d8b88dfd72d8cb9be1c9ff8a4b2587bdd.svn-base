webpackJsonp([16],{"5oxv":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Wxq9"),r=a("I9HH"),s=a("xWQW"),o=a("KrBq"),n=a("P2Uu"),i={data:function(){return{uploadUrl:"",returnImgurl:"",options:l.regionData,form:{custId:"",patentName:"",patentNo:"",patentCover:"",patentLevel:"1",patentApplydate:"",patentGrantdate:"",lawState:"",hopePrice:"",orgType:this.$route.query.id.toString(),ipcType:"",patentType:"",cooperationType:[],coverAddress:[],expiryStardate:"",expiryEnddate:"",patentDes:"",contactName:"",contactPhone:"",contactEmail:"",contactAddress:"",patentStatus:"",releaseDate:"",imgKey:""}}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var e=JSON.parse(sessionStorage.getItem("userInfo"));e?(this.form.custId=e.id,this.uploadUrl=o.a+"szipee/uploadImg?custId="+e.id+"&imageType=2&imgKey="+Object(s.a)(16)):(this.$message({message:"请先登录！！",type:"warning"}),this.$router.push({path:"/patentClass"}))},onSubmit:function(){var e=this,t={custId:this.form.custId,patentName:this.form.patentName,patentNo:this.form.patentNo,patentCover:this.form.patentCover,patentLevel:this.form.patentLevel,lawState:this.form.lawState,hopePrice:this.form.hopePrice,orgType:this.form.orgType,ipcType:this.form.ipcType,patentType:this.form.patentType,coverAddress:this.form.coverAddress.join("|"),patentApplydate:Object(r.a)(Date.parse(this.form.patentApplydate)),patentGrantdate:Object(r.a)(Date.parse(this.form.patentGrantdate)),cooperationType:this.form.cooperationType.join("|"),expiryStardate:Object(r.a)(Date.parse(this.form.expiryStardate)),expiryEnddate:Object(r.a)(Date.parse(this.form.expiryEnddate)),patentDes:this.form.patentDes,contactName:this.form.contactName,contactPhone:this.form.contactPhone,contactEmail:this.form.contactEmail,contactAddress:this.form.contactAddress,patentStatus:this.form.patentStatus,releaseDate:this.form.releaseDate,imgKey:this.form.imgKey};return 0==t.patentName.length?(this.$message({message:"专利名称不能为空",type:"warning"}),!1):0==t.patentNo.length?(this.$message({message:"专利号不能为空",type:"warning"}),!1):0==t.patentCover.length?(this.$message({message:"专利权人不能为空",type:"warning"}),!1):"NaN-aN-aN"==t.patentApplydate?(this.$message({message:"请选择申请日期",type:"warning"}),!1):"NaN-aN-aN"==t.patentGrantdate?(this.$message({message:"请选择授权日期",type:"warning"}),!1):0==t.lawState.length?(this.$message({message:"请选择法律状态",type:"warning"}),!1):0==t.coverAddress.length?(this.$message({message:"请选择权属人所属地区",type:"warning"}),!1):0==t.patentType.length?(this.$message({message:"请选择专利类别",type:"warning"}),!1):0==t.hopePrice.length?(this.$message({message:"请填写意向价格",type:"warning"}),!1):0==t.ipcType.length?(this.$message({message:"请选择IPC分类",type:"warning"}),!1):0==t.cooperationType.length?(this.$message({message:"请选择合作方式",type:"warning"}),!1):"NaN-aN-aN"==t.expiryStardate?(this.$message({message:"请选择信息有效期开始时间",type:"warning"}),!1):"NaN-aN-aN"==t.expiryEnddate?(this.$message({message:"请选择信息有效期结束时间",type:"warning"}),!1):0==t.imgKey.length?(this.$message({message:"请上传专利图片",type:"warning"}),!1):0==t.patentDes.length?(this.$message({message:"专利摘要不能为空",type:"warning"}),!1):0==t.contactName.length?(this.$message({message:"联系人不能为空",type:"warning"}),!1):0==t.contactPhone.length?(this.$message({message:"联系电话不能为空",type:"warning"}),!1):/^1[345678]\d{9}$/.test(t.contactPhone)?0==t.contactEmail.length?(this.$message({message:"E-mail不能为空",type:"warning"}),!1):/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t.contactEmail)?0==t.contactAddress.length?(this.$message({message:"通讯地址不能为空",type:"warning"}),!1):void n.a.Request("szipee/patent!releasePatent.action","POST",null,t).then(function(t){"success"==t.state&&(e.$message({message:"发布成功",type:"success"}),e.$router.push({path:"/"}))}):(this.$message({message:"E-mail格式有误，请重新输入",type:"warning"}),!1):(this.$message({message:"联系电话格式有误，请重新输入",type:"warning"}),!1)},handleAvatarSuccess:function(e,t){this.returnImgurl=e.urls+"&"+Math.floor(100*Math.random()+1)+1,this.form.imgKey=e.imgKey},beforeAvatarUpload:function(e){var t="image/jpeg"===e.type,a="image/png"===e.type,l=e.size/1024/1024<2;return t||a||this.$message.error("上传图片只能是 JPG/PNG 格式!"),l||this.$message.error("上传图片大小不能超过 2MB!"),t||a&&l}},components:{curheader:function(e){a.e(31).then(function(){var t=[a("5UT3")];e.apply(null,t)}.bind(this)).catch(a.oe)},bottom:function(e){a.e(29).then(function(){var t=[a("QTeC")];e.apply(null,t)}.bind(this)).catch(a.oe)},starboard:function(e){a.e(30).then(function(){var t=[a("93Kz")];e.apply(null,t)}.bind(this)).catch(a.oe)}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"releasePatent"}},[a("curheader"),e._v(" "),a("div",{staticClass:"patentCenterWrap"},[a("div",{staticClass:"detailCenter"},[a("div",{staticClass:"breadcrumb"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),e._v(" "),a("el-breadcrumb-item",{attrs:{to:{path:"/patentClass"}}},[e._v("专利分类")]),e._v(" "),a("el-breadcrumb-item",[e._v("发布专利")])],1)],1),e._v(" "),a("div",{staticClass:"patentContent"},[a("h2",{staticClass:"title"},[e._v("专利信息")]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"135px"}},[a("el-form-item",{attrs:{label:"专利名称"}},[a("el-input",{attrs:{placeholder:"请输入专利名称"},model:{value:e.form.patentName,callback:function(t){e.$set(e.form,"patentName",t)},expression:"form.patentName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专利号"}},[a("el-input",{attrs:{placeholder:"请输入专利号",type:"number"},model:{value:e.form.patentNo,callback:function(t){e.$set(e.form,"patentNo",t)},expression:"form.patentNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专利权人"}},[a("el-input",{attrs:{placeholder:"请输入专利权人"},model:{value:e.form.patentCover,callback:function(t){e.$set(e.form,"patentCover",t)},expression:"form.patentCover"}})],1),e._v(" "),a("el-form-item",{staticClass:"applydate",attrs:{label:"申请日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择申请日期",editable:!1},model:{value:e.form.patentApplydate,callback:function(t){e.$set(e.form,"patentApplydate",t)},expression:"form.patentApplydate"}})],1),e._v(" "),a("el-form-item",{staticClass:"applydate",attrs:{label:"授权日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择授权日期",editable:!1},model:{value:e.form.patentGrantdate,callback:function(t){e.$set(e.form,"patentGrantdate",t)},expression:"form.patentGrantdate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"法律状态"}},[a("el-select",{attrs:{placeholder:"请选择法律状态"},model:{value:e.form.lawState,callback:function(t){e.$set(e.form,"lawState",t)},expression:"form.lawState"}},[a("el-option",{attrs:{label:"授权未下证",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"已下证",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"applydate",attrs:{label:"权属人所属地区"}},[a("el-cascader",{attrs:{options:e.options},model:{value:e.form.coverAddress,callback:function(t){e.$set(e.form,"coverAddress",t)},expression:"form.coverAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专利类别"}},[a("el-select",{attrs:{placeholder:"请选择专利类别"},model:{value:e.form.patentType,callback:function(t){e.$set(e.form,"patentType",t)},expression:"form.patentType"}},[a("el-option",{attrs:{label:"实用新型",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"外观设计",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"发明",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"price",attrs:{label:"意向价格"}},[a("el-input",{attrs:{placeholder:"为零表示面议"},model:{value:e.form.hopePrice,callback:function(t){e.$set(e.form,"hopePrice",t)},expression:"form.hopePrice"}})],1),e._v(" "),a("el-form-item",{staticClass:"el-form-items",attrs:{label:"行业分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.orgType,callback:function(t){e.$set(e.form,"orgType",t)},expression:"form.orgType"}},[a("el-option",{attrs:{label:"农林牧业",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"食品饮料",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"家具用品",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"教育休闲",value:"4"}}),e._v(" "),a("el-option",{attrs:{label:"医药与医疗",value:"5"}}),e._v(" "),a("el-option",{attrs:{label:"化学化工",value:"6"}}),e._v(" "),a("el-option",{attrs:{label:"电气自动化",value:"7"}}),e._v(" "),a("el-option",{attrs:{label:"新能源",value:"8"}}),e._v(" "),a("el-option",{attrs:{label:"电子信息源",value:"9"}}),e._v(" "),a("el-option",{attrs:{label:"仪器仪表",value:"10"}}),e._v(" "),a("el-option",{attrs:{label:"保和资源",value:"11"}}),e._v(" "),a("el-option",{attrs:{label:"轻工纺织",value:"12"}}),e._v(" "),a("el-option",{attrs:{label:"包装印刷",value:"13"}}),e._v(" "),a("el-option",{attrs:{label:"建筑建材",value:"14"}}),e._v(" "),a("el-option",{attrs:{label:"新型材料",value:"15"}}),e._v(" "),a("el-option",{attrs:{label:"海洋开发",value:"16"}}),e._v(" "),a("el-option",{attrs:{label:"航空航天",value:"17"}}),e._v(" "),a("el-option",{attrs:{label:"采矿冶金",value:"18"}}),e._v(" "),a("el-option",{attrs:{label:"交通运输",value:"19"}}),e._v(" "),a("el-option",{attrs:{label:"橡胶塑料",value:"20"}}),e._v(" "),a("el-option",{attrs:{label:"机械",value:"21"}}),e._v(" "),a("el-option",{attrs:{label:"安全防护",value:"22"}}),e._v(" "),a("el-option",{attrs:{label:"其他",value:"23"}})],1)],1),e._v(" "),a("el-form-item",{staticClass:"el-form-items",attrs:{label:"IPC分类"}},[a("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.form.ipcType,callback:function(t){e.$set(e.form,"ipcType",t)},expression:"form.ipcType"}},[a("el-option",{attrs:{label:"人类生活必需",value:"A"}}),e._v(" "),a("el-option",{attrs:{label:"作业、运输",value:"B"}}),e._v(" "),a("el-option",{attrs:{label:"化学、冶金",value:"C"}}),e._v(" "),a("el-option",{attrs:{label:"纺织、造纸",value:"D"}}),e._v(" "),a("el-option",{attrs:{label:"固定建筑物",value:"E"}}),e._v(" "),a("el-option",{attrs:{label:"机械工程、照明、加热、武器、爆破",value:"F"}}),e._v(" "),a("el-option",{attrs:{label:"物理",value:"G"}}),e._v(" "),a("el-option",{attrs:{label:"电学",value:"H"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"专利级别"}},[a("el-radio-group",{model:{value:e.form.patentLevel,callback:function(t){e.$set(e.form,"patentLevel",t)},expression:"form.patentLevel"}},[a("el-radio",{attrs:{label:"1"}},[e._v("国际专利")]),e._v(" "),a("el-radio",{attrs:{label:"2"}},[e._v("国内专利")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"合作方式"}},[a("el-checkbox-group",{model:{value:e.form.cooperationType,callback:function(t){e.$set(e.form,"cooperationType",t)},expression:"form.cooperationType"}},[a("el-checkbox",{attrs:{label:"1",name:"type"}},[e._v("技术转让")]),e._v(" "),a("el-checkbox",{attrs:{label:"2",name:"type"}},[e._v("技术服务")]),e._v(" "),a("el-checkbox",{attrs:{label:"3",name:"type"}},[e._v("技术许可")]),e._v(" "),a("el-checkbox",{attrs:{label:"4",name:"type"}},[e._v("技术融资")]),e._v(" "),a("el-checkbox",{attrs:{label:"5",name:"type"}},[e._v("技术授权")]),e._v(" "),a("el-checkbox",{attrs:{label:"6",name:"type"}},[e._v("其他")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"expiryDate",attrs:{label:"信息有效期"}},[a("el-date-picker",{attrs:{type:"date",editable:!1,placeholder:"开始时间"},model:{value:e.form.expiryStardate,callback:function(t){e.$set(e.form,"expiryStardate",t)},expression:"form.expiryStardate"}}),e._v(" "),a("el-date-picker",{attrs:{type:"date",editable:!1,placeholder:"结束时间"},model:{value:e.form.expiryEnddate,callback:function(t){e.$set(e.form,"expiryEnddate",t)},expression:"form.expiryEnddate"}})],1),e._v(" "),a("el-form-item",{staticClass:"uploader",attrs:{label:"专利图片"}},[a("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadUrl,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.returnImgurl?a("img",{staticClass:"avatar",attrs:{src:e.returnImgurl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]),e._v(" "),a("span",{staticClass:"uploader-tip"},[e._v("温馨提示：为了达到最佳的展示，上传的图片的最佳大小为 285*160")])],1),e._v(" "),a("el-form-item",{attrs:{label:"专利摘要"}},[a("el-input",{attrs:{type:"textarea",rows:8,placeholder:"请输入摘要"},model:{value:e.form.patentDes,callback:function(t){e.$set(e.form,"patentDes",t)},expression:"form.patentDes"}})],1),e._v(" "),a("h2",{staticClass:"title"},[e._v("联系人信息")]),e._v(" "),a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{attrs:{placeholder:"请输入联系人姓名"},model:{value:e.form.contactName,callback:function(t){e.$set(e.form,"contactName",t)},expression:"form.contactName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{placeholder:"请输入联系电话"},model:{value:e.form.contactPhone,callback:function(t){e.$set(e.form,"contactPhone",t)},expression:"form.contactPhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"E-mail"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.contactEmail,callback:function(t){e.$set(e.form,"contactEmail",t)},expression:"form.contactEmail"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"通讯地址"}},[a("el-input",{attrs:{placeholder:"请输入通讯地址"},model:{value:e.form.contactAddress,callback:function(t){e.$set(e.form,"contactAddress",t)},expression:"form.contactAddress"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即发布")])],1)],1)],1)])]),e._v(" "),a("starboard"),e._v(" "),a("bottom")],1)},staticRenderFns:[]},c=a("VU/8")(i,p,!1,function(e){a("9Ail")},null,null);t.default=c.exports},"9Ail":function(e,t){},xWQW:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var l=function(e){e=e||32;for(var t="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",a=t.length,l="",r=0;r<e;r++)l+=t.charAt(Math.floor(Math.random()*a));return l}}});